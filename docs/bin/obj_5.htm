<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><title>DomAPI Docs - domapi.Calendar</title><link rel="stylesheet" type="text/css" href="style.css"><meta http-equiv="expires" content="0"><meta http-equiv="cache-control" content="no-cache"></head><body><div id="logo"><a href="http://domapi.com"><img src="logo6.gif" alt="DomAPI Application Platform" border="0" /></a></div><a href="#" onclick="history.go(-1)"><img src="left.gif" alt="Back" width="14" height="14" border="0"></a><a href="#" onclick="history.go(-1)">Back</a>&nbsp;&nbsp;&nbsp; <a href="../index.htm"><img src="up.gif" alt="Up to index" width="14" height="14" border="0"></a><a href="../index.htm">Up to index</a><h2>domapi.Calendar</h2> See also: <a href="obj_19.htm">Elm</a><br /> See also: <a href="obj_48.htm">Component</a><br /><p> A fully customizable calendar component. Can be read-only, or can allow the user to interact with it and select a single or multiple dates. Fully Y2K compliant. </p><p> For an interactive Calendar, you can display the month and year controls. There is also a 'compact mode' which instead places forward and back arrows in the Calendar's title. This mode is enabled by passing <span class="inlinecode">mode:"compact"</span> in the constructor.<br /><br /> When <span class="inlinecode">doMultiSelect</span> is true, the user can select more than one day by holding down the CTRL or SHIFT keys while clicking. The selected days are stored in the <a href="../bin/obj_5.htm#1317">selection</a><!-- Calendar.selection --> array.<br /><br /> The Calendar can also display 'holidays'. Holidays are defined by the <a href="../bin/obj_67.htm">lang</a><!-- lang --> file used, but can also be defined by the developer using the <a href="../bin/obj_5.htm#1143">ongetholidays</a><!-- Calendar.ongetholidays --> event. </p><hr /><h3 style="margin-top:0px !important">Constructor Parameters unique to domapi.Calendar</h3><table cellpadding="2" cellspacing="0" border="0" class="paramTable"><tr><th>Parameter</th><th>Type</th><th>Default</th><th>Description</th></tr><tr><td class="nm">date</td><td>Date</td><td>now&nbsp;</td><td> Initial date to display. Defaults to today. </td></tr><tr><td class="nm">doMultiSelect</td><td>boolean</td><td>false&nbsp;</td><td> When enabled, the user can select more than one day by using the CTRL or SHIFT keys when clicking. </td></tr><tr><td class="nm">doShowControls</td><td>boolean</td><td>true&nbsp;</td><td> Controls whether or not the month and year controls are shown. </td></tr><tr><td class="nm">doShowDays</td><td>boolean</td><td>true&nbsp;</td><td> This refers to the day names at the top of the columns (Mon, Tues, etc..). </td></tr><tr><td class="nm">doShowHolidays</td><td>boolean</td><td>true&nbsp;</td><td> Whether or not holidays should be noted in the display. Holidays are specified by whatever <a href="../bin/obj_67.htm">lang</a><!-- lang --> file has been loaded using <a href="../bin/obj_13.htm#1194">loadLang</a><!-- domapi.loadLang -->. They can also at runtime using the <a href="../bin/obj_5.htm#1143">ongetholidays</a><!-- Calendar.ongetholidays --> event. </td></tr><tr><td class="nm">doShowTitle</td><td>boolean</td><td>true&nbsp;</td><td> Whether or not the titlebar is to be shown. </td></tr><tr><td class="nm">doShowToday</td><td>boolean</td><td>true&nbsp;</td><td> Whether or not the current day should be highlighted. </td></tr><tr><td class="nm">mask</td><td>String</td><td>sysutils.defaultDateMask&nbsp;</td><td> Date mask used to display and set value. </td></tr><tr><td class="nm">mode</td><td>String</td><td>normal&nbsp;</td><td> Can be either <span class="inlinecode">normal</span> or <span class="inlinecode">compact</span>. When mode is <span class="inlinecode">compact</span>, the normal month and year controls are hidden. Forward and back buttons are placed in the titlebar instead. </td></tr></table><span style="margin-left:20px;font-size:smaller"> You can also use <a href="obj_19.htm">Elm</a> and <a href="obj_48.htm">Component</a> constructor parameters when creating a <span class="inlinecode">domapi.Calendar</span> instance. </span><hr /><a name="contents">&nbsp;</a><h4>Events unique to domapi.Calendar</h4><table><tr><td valign="top"><ul style="margin-bottom:0px"><li><a href="#1148">ondaychange</a>&nbsp;<img src="new.gif" alt="" width="25" height="14" border="0" align="absbottom" /></li><li><a href="#1143">ongetholidays</a>&nbsp;<img src="new.gif" alt="" width="25" height="14" border="0" align="absbottom" /></li><li><a href="#1150">onmonthchange</a>&nbsp;<img src="new.gif" alt="" width="25" height="14" border="0" align="absbottom" /></li><li><a href="#1149">onyearchange</a>&nbsp;<img src="new.gif" alt="" width="25" height="14" border="0" align="absbottom" /></li></ul><span style="margin-left:40px;font-size:smaller"> domapi.Calendar also has the same events as <a href="obj_19.htm">Elm</a> and <a href="obj_48.htm">Component</a>.</span></td></tr></table><h4>Methods unique to domapi.Calendar</h4><table><tr><td valign="top"><ul style="margin-bottom:0px"><li><a href="#810">getDay</a></li><li><a href="#809">getMonth</a></li><li><a href="#1316">getValue</a></li><li><a href="#811">getYear</a></li><li><a href="#817">setDate</a></li><li><a href="#813">setDay</a></li><li><a href="#807">setMask</a></li><li><a href="#812">setMonth</a></li><li><a href="#815">setMonthBy</a></li><li><a href="#1315">setValue</a></li><li><a href="#814">setYear</a></li><li><a href="#816">setYearBy</a></li></ul><span style="margin-left:40px;font-size:smaller"> domapi.Calendar also has the same methods as <a href="obj_19.htm">Elm</a> and <a href="obj_48.htm">Component</a>.</span></td></tr></table><h4>Properties unique to domapi.Calendar</h4><table><tr><td valign="top"><ul style="margin-bottom:0px"><li><a href="#1144">date</a></li><li><a href="#391">mask</a></li><li><a href="#1317">selection</a>&nbsp;<img src="new.gif" alt="" width="25" height="14" border="0" align="absbottom" /></li><li><a href="#390">value</a></li></ul><span style="margin-left:40px;font-size:smaller"> domapi.Calendar also has the same properties as <a href="obj_19.htm">Elm</a> and <a href="obj_48.htm">Component</a>.</span></td></tr></table><hr /><div class="prop_group_title">Events</div><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="1148">ondaychange ()</a></th></tr></table><p> Fires whenever the day of the month changes. </p></div><a href="#contents">back to top</a><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="1143">ongetholidays ( month, year )</a></th></tr></table><p> This event is fired when the Calendar is assembling the list of holidays to display. You can use it to add additional holidays.<br /><br /> The return value of this event should be an Array of holiday Arrays. Holiday Arrays have two items, the first being an integer value for the day of the month, the second is a String value for a description of the Holiday.<br /><br /> Only the holidays for the specified month should be provided in the return value. The month and year parameters are passed in as input parameters. Month is zero based (0..11) </p><h5>Example:</h5><pre class="code">
calendar1.ongetholidays = function(m,y){
  var r = [];
  if(m == 7 && y == 1972)
    r.push([3, "Darin's Birthday"]);
  return r;
};</pre><h5>Parameters:</h5><table cellpadding="2" cellspacing="0" border="0" class="paramTable"><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr><tr><td class="nm">month</td><td>integer</td><td class="opt">Y</td><td>&nbsp;</td><td> Currently selected month. &nbsp; </td></tr><tr><td class="nm">year</td><td>integer</td><td class="opt">Y</td><td>&nbsp;</td><td> Currently selected month. &nbsp; </td></tr></table><table cellpadding="0" cellspacing="0" border="0"></table></div><a href="#contents">back to top</a><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="1150">onmonthchange ()</a></th></tr></table><p> Fires whenever the selected month changes. </p></div><a href="#contents">back to top</a><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="1149">onyearchange ()</a></th></tr></table><p> Fires whenever the year changes. </p></div><a href="#contents">back to top</a><div class="prop_group_title">Methods</div><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="810">getDay ()</a></th></tr></table><p> Returns the currently selected day as an integer. </p><h5>Example:</h5><pre class="code">
alert(calendar1.getDay());</pre></div><a href="#contents">back to top</a><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="809">getMonth ()</a></th></tr></table><p> Returns the controls selected month as an integer. Zero is january. </p><h5>Example:</h5><pre class="code">
alert(calendar1.getMonth());</pre></div><a href="#contents">back to top</a><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="1316">getValue ()</a></th></tr></table><p> Returns the currently selected date as a formatted string, using the current <a href="../bin/obj_5.htm#391">mask</a><!-- Calendar.mask -->. </p></div><a href="#contents">back to top</a><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="811">getYear ()</a></th></tr></table><p> Returns the currently selected year as an integer. </p><h5>Example:</h5><pre class="code">
alert(calendar1.getYear());</pre></div><a href="#contents">back to top</a><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="817">setDate ( date )</a></th></tr></table><p> Sets the date of the control.<br /></p><h5>Parameters:</h5><table cellpadding="2" cellspacing="0" border="0" class="paramTable"><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr><tr><td class="nm">date</td><td>String</td><td class="opt">Y</td><td>&nbsp;</td><td> Accepts a string, using the current <a href="../bin/obj_5.htm#391">mask</a><!-- mask --> &nbsp; </td></tr></table><table cellpadding="0" cellspacing="0" border="0"><tr><td>See also:&nbsp;</td><td><a href="obj.htm?obj_id=5#812">setMonth</a></td></tr><tr><td>&nbsp;</td><td><a href="obj.htm?obj_id=5#813">setDay</a></td></tr><tr><td>&nbsp;</td><td><a href="obj.htm?obj_id=5#814">setYear</a></td></tr><tr><td>&nbsp;</td><td><a href="obj.htm?obj_id=5#815">setMonthBy</a></td></tr><tr><td>&nbsp;</td><td><a href="obj.htm?obj_id=5#816">setYearBy</a></td></tr></table></div><a href="#contents">back to top</a><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="813">setDay ( day )</a></th></tr></table><p> Sets the control's day.<br /> If <span class="inlinecode">skip</span> is true, the control will forego calling <span class="inlinecode">reDraw()</span> and <span class="inlinecode">onchange()</span>. </p><h5>Parameters:</h5><table cellpadding="2" cellspacing="0" border="0" class="paramTable"><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr><tr><td class="nm">day</td><td>integer</td><td class="opt">Y</td><td>&nbsp;</td><td> &nbsp; &nbsp; </td></tr></table><table cellpadding="0" cellspacing="0" border="0"><tr><td>See also:&nbsp;</td><td><a href="obj.htm?obj_id=5#812">setMonth</a></td></tr><tr><td>&nbsp;</td><td><a href="obj.htm?obj_id=5#814">setYear</a></td></tr></table></div><a href="#contents">back to top</a><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="807">setMask ( dateMask )</a></th></tr></table><p> Used to override the control' <a href="../bin/obj_5.htm#391">mask</a><!-- Calendar.mask -->.<br /> Masks are made up of "m, d, y" and a delimiter. </p><h5>Example:</h5><pre class="code">
calendar1.setMask("yyyy,mm,dd");</pre><h5>Parameters:</h5><table cellpadding="2" cellspacing="0" border="0" class="paramTable"><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr><tr><td class="nm">dateMask</td><td>String</td><td class="opt">Y</td><td>&nbsp;</td><td> The new date format to use. &nbsp; </td></tr></table></div><a href="#contents">back to top</a><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="812">setMonth ( month )</a></th></tr></table><p> Sets the control's month.<br /> If <span class="inlinecode">skip</span> is true, the control will forego calling <span class="inlinecode">reDraw()</span> and <span class="inlinecode">onchange()</span>. </p><h5>Parameters:</h5><table cellpadding="2" cellspacing="0" border="0" class="paramTable"><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr><tr><td class="nm">month</td><td>integer</td><td class="opt">Y</td><td>&nbsp;</td><td> &nbsp; &nbsp; </td></tr></table><table cellpadding="0" cellspacing="0" border="0"><tr><td>See also:&nbsp;</td><td><a href="obj.htm?obj_id=5#813">setDay</a></td></tr><tr><td>&nbsp;</td><td><a href="obj.htm?obj_id=5#814">setYear</a></td></tr><tr><td>&nbsp;</td><td><a href="obj.htm?obj_id=5#815">setMonthBy</a></td></tr></table></div><a href="#contents">back to top</a><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="815">setMonthBy ( inc )</a></th></tr></table><p> Changes the current month by a relative amount.<br /> If <span class="inlinecode">skip</span> is true, the control will forego calling <span class="inlinecode">reDraw()</span> and <span class="inlinecode">onchange()</span>. </p><h5>Parameters:</h5><table cellpadding="2" cellspacing="0" border="0" class="paramTable"><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr><tr><td class="nm">inc</td><td>integer</td><td class="opt">Y</td><td>&nbsp;</td><td> Amount to move by. Can positive or negative. &nbsp; </td></tr></table><table cellpadding="0" cellspacing="0" border="0"><tr><td>See also:&nbsp;</td><td><a href="obj.htm?obj_id=5#812">setMonth</a></td></tr><tr><td>&nbsp;</td><td><a href="obj.htm?obj_id=5#813">setDay</a></td></tr><tr><td>&nbsp;</td><td><a href="obj.htm?obj_id=5#814">setYear</a></td></tr></table></div><a href="#contents">back to top</a><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="1315">setValue ( date )</a></th></tr></table><p> Used to set the current date, using a formatted string. It will perform the date validation for you. </p><h5>Parameters:</h5><table cellpadding="2" cellspacing="0" border="0" class="paramTable"><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr><tr><td class="nm">date</td><td>String</td><td class="opt">Y</td><td>&nbsp;</td><td> A formatted string, using the current <a href="../bin/obj_5.htm#391">mask</a>. &nbsp; </td></tr></table></div><a href="#contents">back to top</a><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="814">setYear ( year )</a></th></tr></table><p> Sets the control's year.<br /> If <span class="inlinecode">skip</span> is true, the control will forego calling <span class="inlinecode">reDraw()</span> and <span class="inlinecode">onchange()</span>. </p><h5>Parameters:</h5><table cellpadding="2" cellspacing="0" border="0" class="paramTable"><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr><tr><td class="nm">year</td><td>integer</td><td class="opt">Y</td><td>&nbsp;</td><td> &nbsp; &nbsp; </td></tr></table><table cellpadding="0" cellspacing="0" border="0"><tr><td>See also:&nbsp;</td><td><a href="obj.htm?obj_id=5#812">setMonth</a></td></tr><tr><td>&nbsp;</td><td><a href="obj.htm?obj_id=5#813">setDay</a></td></tr><tr><td>&nbsp;</td><td><a href="obj.htm?obj_id=5#816">setYearBy</a></td></tr></table></div><a href="#contents">back to top</a><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="816">setYearBy ( inc )</a></th></tr></table><p> Changes the current year by a relative amount.<br /> If <span class="inlinecode">skip</span> is true, the control will forego calling <span class="inlinecode">reDraw()</span> and <span class="inlinecode">onchange()</span>. </p><h5>Parameters:</h5><table cellpadding="2" cellspacing="0" border="0" class="paramTable"><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr><tr><td class="nm">inc</td><td>integer</td><td class="opt">Y</td><td>&nbsp;</td><td> Amount to move by. Can positive or negative. &nbsp; </td></tr></table><table cellpadding="0" cellspacing="0" border="0"><tr><td>See also:&nbsp;</td><td><a href="obj.htm?obj_id=5#812">setMonth</a></td></tr><tr><td>&nbsp;</td><td><a href="obj.htm?obj_id=5#813">setDay</a></td></tr><tr><td>&nbsp;</td><td><a href="obj.htm?obj_id=5#814">setYear</a></td></tr></table></div><a href="#contents">back to top</a><div class="prop_group_title">Properties</div><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="1144">date</a></th><td>type : Date</td><td>default value : sysutils.now()</td></tr></table><p> Contains the currently selected date. For a formated String version, use <span class="inlinecode">value</span>. </p></div><a href="#contents">back to top</a><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="391">mask</a></th><td>type : String</td><td>default value : mm/dd/yyyy</td></tr></table><p> This determines what format the date is stored in value as. By default it's <span class="inlinecode">sysutils.defaultDateMask</span>, but you are free to change it.<br /> This is also the datemask that <span class="inlinecode">attachToForm()</span> uses to send the value back to your server. </p><h5>Example:</h5><pre class="code">
calendar1.dateMask = 'm-d-yy';
calendar1.reDraw();</pre></div><a href="#contents">back to top</a><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="1317">selection</a></th><td>type : Array</td></tr></table><p> When allowing multiple selections, this array contains the selected days (integer only). For instance, if you've selected the 12th and the 15th, <span class="inlinecode">selection</span> contains [12, 15]. </p></div><a href="#contents">back to top</a><div class="prop_block"><table class="prop_table" border="0" cellpadding="0" cellspacing="0"><tr><th><a name="390">value</a></th><td>type : Date</td><td>default value : current date</td></tr></table><p> Value is read-only, use <a href="../bin/obj_5.htm#817">setDate</a><!-- Calendar.setDate --> or <a href="../bin/obj_5.htm#1315">setValue</a><!-- Calendar.setValue --> to change it.<br /> Value is the currently selected date of the calendar. </p><h5>Example:</h5><pre class="code">
alert(calendar1.value);</pre><table cellpadding="0" cellspacing="0" border="0"><tr><td>See also:&nbsp;</td><td><a href="obj.htm?obj_id=5#1117">date</a></td></tr></table></div><a href="#contents">back to top</a><hr />  </body></html>
